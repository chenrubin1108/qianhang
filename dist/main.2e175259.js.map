{"version":3,"sources":["main.js"],"names":["$addsitecontainer","$","$addbuton","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","word","removeWord","replace","render","find","remove","forEach","node","index","$sitebox","insertBefore","on","window","open","e","console","log","stopPropagation","splice","prompt","indexOf","push","toUpperCase","type","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";AAKA,IAAMA,EAAmBC,EAAE,uBAGrBC,EAAUD,EAAE,aACZE,EAAEC,aAAaC,QAAQ,KACvBC,EAAQC,KAAKC,MAAML,GACnBM,EAAQH,GAAW,CAAC,CACtBI,KAAK,IAAIC,IAAI,0BACbC,KAAK,UACP,CACEF,KAAK,IAAIC,IAAI,eACbC,KAAK,SAGHC,EAAW,SAACF,GACPA,OAAAA,EACNG,QAAQ,WAAW,IACnBA,QAAQ,UAAU,IAClBA,QAAQ,OAAQ,IAEhBA,QAAQ,OAAQ,KAGfC,EAAO,SAAPA,IACFf,EAAkBgB,KAAK,sBAAsBC,SAC7CR,EAAQS,QAAQ,SAACC,EAAKC,GACZC,IAAAA,EAAUpB,EACFkB,yBAAAA,OAAAA,EAAKP,KAECO,4DAAAA,OAAAA,EAAKT,KAEnBG,sCAAAA,OAAAA,EAAWM,EAAKP,MALN,mHASRU,aAAapB,GACvBmB,EAASE,GAAG,QAAQ,WAChBC,OAAOC,KAAKN,EAAKR,OAEpBU,EAASE,GAAG,QAAQ,SAAS,SAACG,GAC1BC,QAAQC,IAAI,UACZF,EAAEG,kBACFpB,EAAQqB,OAAOV,EAAM,GAErBL,SAIXA,IAIAd,EAAE,aACAsB,GAAG,QAAQ,WACLZ,IAAAA,EAAKa,OAAOO,OAAO,UACA,IAAtBpB,EAAIqB,QAAQ,UACVrB,EAAI,WAAWA,GAIpBF,EAAQwB,KAAK,CACTvB,KAAKG,EAAWF,GAAK,GAAGuB,cACxBC,KAAK,OACLxB,IAAIA,EACJC,KAAKD,IAERI,MAIHS,OAAOY,eAAe,WACZC,IAAAA,EAAS9B,KAAK+B,UAChB7B,GAEJe,OAAOpB,aAAamC,QAAQ,IAAIF,IAGpCpC,EAAEuC,UAAUjB,GAAG,WAAW,SAACG,GAEpB,IADGe,IAAAA,EAAKf,EAALe,IACCC,EAAE,EAAEA,EAAEjC,EAAQkC,OAAOD,IACtBjC,EAAQiC,GAAGhC,KAAKkC,gBAAgBH,GACjCjB,OAAOC,KAAKhB,EAAQiC,GAAG/B,OAKhCgB,QAAQC,IAAKtB","file":"main.2e175259.js","sourceRoot":"..","sourcesContent":["// /parcel 会在默认代码外加一个作用域 \r\n// 有了hashmap 没有必要直接写html 可以通过遍历hashmap生成\r\n// \r\n// \r\n\r\nconst $addsitecontainer =$('.add-site-container')\r\n //  add 最后一个添加按钮\r\n // 所有的事情都是渲染hashmap 让结构变得简单一些\r\nconst $addbuton=$('.addbuton')\r\nconst x=localStorage.getItem('x')\r\nconst xObject=JSON.parse(x)\r\nconst hashMap=xObject || [{\r\n    logo:'G',url:'https://www.google.com/',\r\n    word:'Google'\r\n},{\r\n    logo:'B',url:'www.bing.com',\r\n    word:'必应搜索'\r\n},]\r\n// 移除https方法\r\nconst removeWord=(url)=>{\r\n    return url\r\n    .replace('https://','')\r\n    .replace('http://','')\r\n    .replace('www.', '')\r\n    // 删除/开头的内容\r\n    .replace(/\\/.*/, '')\r\n    \r\n}\r\nconst render=()=>{\r\n    $addsitecontainer.find('div:not(.addbuton)').remove()\r\n    hashMap.forEach((node,index) => {\r\n        const $sitebox= $(`\r\n        <div title=\"${node.word}\" class=\"site-box\">\r\n       \r\n        <div class=\"word\">${node.logo}</div>\r\n       <div>\r\n         <p>${removeWord(node.word)}</p>\r\n         <div class=\"close\"><i class=\"iconfont icon-guanbi\"></i></div>\r\n       </div>\r\n  \r\n      </div> `).insertBefore($addbuton)\r\n      $sitebox.on('click',()=>{\r\n          window.open(node.url)\r\n      })\r\n       $sitebox.on('click','.close',(e)=>{\r\n           console.log('阻止事件冒泡')\r\n           e.stopPropagation()\r\n           hashMap.splice(index,1)\r\n        //    删除完以后重新渲染一下\r\n           render()\r\n       })\r\n    });\r\n}\r\nrender()\r\n\r\n\r\n\r\n$('.addbuton')\r\n .on('click',()=>{\r\n    let url= window.prompt('添加网址是？')\r\n  if(url.indexOf('http')!==0) {\r\n       url='https://'+url\r\n  }\r\n\r\n//    console.log($addbuton,'addbuton')\r\n  hashMap.push({\r\n      logo:removeWord(url)[0].toUpperCase(),\r\n      type:'text',\r\n      url:url,\r\n      word:url\r\n    })\r\n   render()\r\n  \r\n })\r\n//  页面关闭的时候存储\r\nwindow.onbeforeunload=()=>{\r\n    const string = JSON.stringify(\r\n        hashMap\r\n    )\r\n    window.localStorage.setItem('x',string)\r\n}\r\n\r\n$(document).on('keypress',(e)=>{\r\n   const {key}=e\r\n   for(let i=0;i<hashMap.length;i++) {\r\n       if(hashMap[i].logo.toLowerCase()===key) {\r\n         window.open(hashMap[i].url)\r\n       }\r\n\r\n   }\r\n})\r\nconsole.log( xObject)"]}